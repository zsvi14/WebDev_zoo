<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../CSS_JS/style_siham.css">
    <title>Liste des Enclos</title>
</head>
<body>
    <header>
        <button class="home-button" onclick="window.location.href='../connexion/home.html';">Retour à l'accueil</button>
        <h1 class="park-name">🦒🐘🦓Le rrrh parc🦁🦓🦒</h1>
    </header>

    <h1 id="title_enclos">Liste des Enclos</h1>

    <div id="enclos-container">
        <!-- Les enclos seront affichés ici -->
    </div>

    <script>
      function afficherEnclos(data) {
    const container = document.getElementById('enclos-container');
    container.innerHTML = '';

    if (!data || data.length === 0) {
        container.innerHTML = '<p>Aucun enclos ou animal trouvé.</p>';
        return;
    }

    // Parcourir les données pour afficher chaque animal dans une case
    data.forEach(item => {
        const animalCard = document.createElement('div');
        animalCard.classList.add('animal-card');

        // Ajouter l'image de l'animal
        const photoPath = `../../Image_enclos/${item.animal.toLowerCase()}.jpg`; // Chemin vers l'image
        const img = document.createElement('img');
        img.src = photoPath;
        img.alt = item.animal;
        img.classList.add('animal-image');

        // Ajouter le nom de l'animal
        const name = document.createElement('p');
        name.textContent = item.animal;

        // Créer un lien vers les détails de l'animal
        const link = document.createElement('a');
        link.href = `details_enclos.php?animal=${encodeURIComponent(item.animal)}`;
        link.appendChild(img);
        link.appendChild(name);

        // Ajouter le lien dans la carte de l'animal
        animalCard.appendChild(link);

        // Ajouter la carte au conteneur principal
        container.appendChild(animalCard);
    });
}


        function fetchEnclos() {
            fetch('http://localhost/WebDev_zoo/back/routes/enclos.php')
                .then(response => response.json())
                .then(data => {
                    afficherEnclos(data);
                })
                .catch(error => {
                    console.error('Erreur lors de la récupération des données :', error);
                });
        }

        window.onload = fetchEnclos;
    </script>

</body>
</html>
